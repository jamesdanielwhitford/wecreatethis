<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#333">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Search - Birdle</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
  <a href="index" class="back-btn">&larr; Back</a>
  <h1>Search</h1>

  <!-- Location Button -->
  <button id="use-location-btn" class="location-btn">üìç Use My Location</button>
  <p id="location-info" class="hint" style="display:none; margin-top: 8px;"></p>

  <!-- Region Filters -->
  <div class="filter-row region-filters">
    <select id="country-filter">
      <option value="">Select country...</option>
      <option value="US">United States</option>
      <option value="CA">Canada</option>
      <option value="GB">United Kingdom</option>
      <option value="AU">Australia</option>
      <option value="NZ">New Zealand</option>
      <option value="ZA">South Africa</option>
      <option value="IN">India</option>
      <option value="DE">Germany</option>
      <option value="FR">France</option>
      <option value="MX">Mexico</option>
    </select>
    <select id="state-filter" disabled>
      <option value="">State/Province...</option>
    </select>
  </div>
  <div class="filter-row">
    <button id="pick-location-btn" class="pick-location-btn">üìç Pick on map</button>
  </div>

  <!-- Map Picker -->
  <div id="map-container" style="display:none;">
    <div id="map"></div>
    <div class="map-actions">
      <button id="map-cancel-btn">Cancel</button>
      <button id="map-confirm-btn">Search here</button>
    </div>
  </div>

  <!-- Sort & Filter Controls -->
  <div class="filter-row">
    <select id="sort-type">
      <option value="nearest">Sort: Nearest</option>
      <option value="alphabetical">Sort: A-Z</option>
      <option value="recent">Recently Viewed</option>
    </select>
    <label class="checkbox-label">
      <input type="checkbox" id="seen-filter"> Seen only
    </label>
  </div>

  <!-- Search within list -->
  <div class="search-bar">
    <input type="text" id="bird-search" placeholder="Search birds...">
  </div>

  <!-- Loading State -->
  <div id="loading" class="loading" style="display:none;">Loading birds...</div>

  <!-- Bird List -->
  <ul id="bird-list" class="bird-list"></ul>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="location.js?v=73"></script>
  <script src="db.js?v=73"></script>
  <script src="ebird.js?v=73"></script>
  <script src="app.js?v=73"></script>
</body>
</html>
