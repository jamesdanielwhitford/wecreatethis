<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#333">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Testle">
  <title>Testle - Testing Mode</title>
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icon-192.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Navbar -->
  <nav class="game-navbar">
    <a href="/" class="home-btn"></a>
    <span class="nav-title">Testle</span>
    <div class="nav-actions">
      <button id="reset-btn" class="icon-btn" aria-label="Reset game">ðŸ”„</button>
      <button id="info-btn" class="text-icon-btn" aria-label="Game info and settings">
        <span class="text-icon">i</span>
      </button>
    </div>
  </nav>

  <!-- Main Game Container -->
  <div class="game-container">
    <!-- Game Board: 8 rows Ã— 4 columns + score column -->
    <div class="board">
      <!-- Row 1 -->
      <div class="row" data-row="0">
        <div class="tile" data-row="0" data-col="0"></div>
        <div class="tile" data-row="0" data-col="1"></div>
        <div class="tile" data-row="0" data-col="2"></div>
        <div class="tile" data-row="0" data-col="3"></div>
        <div class="score-box" data-row="0"></div>
      </div>
      <!-- Row 2 -->
      <div class="row" data-row="1">
        <div class="tile" data-row="1" data-col="0"></div>
        <div class="tile" data-row="1" data-col="1"></div>
        <div class="tile" data-row="1" data-col="2"></div>
        <div class="tile" data-row="1" data-col="3"></div>
        <div class="score-box" data-row="1"></div>
      </div>
      <!-- Row 3 -->
      <div class="row" data-row="2">
        <div class="tile" data-row="2" data-col="0"></div>
        <div class="tile" data-row="2" data-col="1"></div>
        <div class="tile" data-row="2" data-col="2"></div>
        <div class="tile" data-row="2" data-col="3"></div>
        <div class="score-box" data-row="2"></div>
      </div>
      <!-- Row 4 -->
      <div class="row" data-row="3">
        <div class="tile" data-row="3" data-col="0"></div>
        <div class="tile" data-row="3" data-col="1"></div>
        <div class="tile" data-row="3" data-col="2"></div>
        <div class="tile" data-row="3" data-col="3"></div>
        <div class="score-box" data-row="3"></div>
      </div>
      <!-- Row 5 -->
      <div class="row" data-row="4">
        <div class="tile" data-row="4" data-col="0"></div>
        <div class="tile" data-row="4" data-col="1"></div>
        <div class="tile" data-row="4" data-col="2"></div>
        <div class="tile" data-row="4" data-col="3"></div>
        <div class="score-box" data-row="4"></div>
      </div>
      <!-- Row 6 -->
      <div class="row" data-row="5">
        <div class="tile" data-row="5" data-col="0"></div>
        <div class="tile" data-row="5" data-col="1"></div>
        <div class="tile" data-row="5" data-col="2"></div>
        <div class="tile" data-row="5" data-col="3"></div>
        <div class="score-box" data-row="5"></div>
      </div>
      <!-- Row 7 -->
      <div class="row" data-row="6">
        <div class="tile" data-row="6" data-col="0"></div>
        <div class="tile" data-row="6" data-col="1"></div>
        <div class="tile" data-row="6" data-col="2"></div>
        <div class="tile" data-row="6" data-col="3"></div>
        <div class="score-box" data-row="6"></div>
      </div>
      <!-- Row 8 -->
      <div class="row" data-row="7">
        <div class="tile" data-row="7" data-col="0"></div>
        <div class="tile" data-row="7" data-col="1"></div>
        <div class="tile" data-row="7" data-col="2"></div>
        <div class="tile" data-row="7" data-col="3"></div>
        <div class="score-box" data-row="7"></div>
      </div>
    </div>

    <!-- QWERTY Keyboard -->
    <div class="keyboard">
      <div class="keyboard-row">
        <button class="key" data-key="Q">Q</button>
        <button class="key" data-key="W">W</button>
        <button class="key" data-key="E">E</button>
        <button class="key" data-key="R">R</button>
        <button class="key" data-key="T">T</button>
        <button class="key" data-key="Y">Y</button>
        <button class="key" data-key="U">U</button>
        <button class="key" data-key="I">I</button>
        <button class="key" data-key="O">O</button>
        <button class="key" data-key="P">P</button>
      </div>
      <div class="keyboard-row">
        <button class="key" data-key="A">A</button>
        <button class="key" data-key="S">S</button>
        <button class="key" data-key="D">D</button>
        <button class="key" data-key="F">F</button>
        <button class="key" data-key="G">G</button>
        <button class="key" data-key="H">H</button>
        <button class="key" data-key="J">J</button>
        <button class="key" data-key="K">K</button>
        <button class="key" data-key="L">L</button>
      </div>
      <div class="keyboard-row">
        <button class="key key-enter" data-key="Enter">âœ“</button>
        <button class="key" data-key="Z">Z</button>
        <button class="key" data-key="X">X</button>
        <button class="key" data-key="C">C</button>
        <button class="key" data-key="V">V</button>
        <button class="key" data-key="B">B</button>
        <button class="key" data-key="N">N</button>
        <button class="key" data-key="M">M</button>
        <button class="key key-backspace" data-key="Backspace">âœ•</button>
      </div>
    </div>
  </div>

  <!-- Info Modal -->
  <div id="info-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Welcome to</h2>
        <button class="modal-close" data-modal="info-modal">&times;</button>
      </div>
      <div class="modal-body">

        <!-- Game Variant Selection -->
        <div class="mode-buttons" style="margin-bottom: 8px;">
          <a href="index.html#info" class="mode-btn" data-variant="hardle">
            <span class="mode-label">Hardle</span>
          </a>
          <a href="randle.html#info" class="mode-btn" data-variant="randle">
            <span class="mode-label">Randle</span>
          </a>
          <a href="testle.html#info" class="mode-btn active" data-variant="testle">
            <span class="mode-label">Testle</span>
          </a>
        </div>

        <p style="text-align: center; margin-bottom: 16px;">Test the game with custom words</p>

        <!-- Custom Target Word -->
        <div style="margin-bottom: 16px;">
          <p style="text-align: center; margin-bottom: 8px; font-weight: 600;">Custom Target Word</p>
          <div style="display: flex; gap: 8px; align-items: center;">
            <input type="text" id="custom-word-input" placeholder="Enter 4 letters" maxlength="4" style="flex: 1; padding: 8px; font-size: 16px; text-transform: uppercase; border: 2px solid var(--border); border-radius: 4px; background: var(--bg-secondary); color: var(--text-primary);">
            <button id="set-word-btn" class="btn" style="padding: 8px 16px;">Set Word</button>
          </div>
          <p style="font-size: 12px; color: var(--text-secondary); margin-top: 8px; text-align: center;">Set a custom 4-letter target word for testing</p>
        </div>

        <!-- Mode Selection -->
        <p style="text-align: center; margin-bottom: 8px;">in</p>
        <div class="mode-buttons" style="margin-bottom: 24px;">
          <button id="select-hard-mode" class="mode-btn active" data-mode="hard">
            <span class="mode-label">Hard Mode</span>
          </button>
          <button id="select-easy-mode" class="mode-btn" data-mode="easy">
            <span class="mode-label">Easy Mode</span>
          </button>
        </div>

        <h3 style="text-align: center; margin-bottom: 16px;">How to Play</h3>

        <!-- Rules Section (content changes based on mode) -->
        <div class="rules-section">
          <!-- Example 1: Partial match -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile">W</div>
              <div class="example-tile">O</div>
              <div class="example-tile">R</div>
              <div class="example-tile">D</div>
              <div class="example-score example-score-partial">2</div>
            </div>
            <p class="example-description">A score shows how many letters from your guess are in the target word.</p>
          </div>

          <!-- Example 2: Red - No match -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile example-red">W</div>
              <div class="example-tile example-red">O</div>
              <div class="example-tile example-red">L</div>
              <div class="example-tile example-red">F</div>
              <div class="example-score example-score-zero">0</div>
            </div>
            <p class="example-description">Red tiles and 0 score mean none of these letters are in the target word.</p>
          </div>

          <!-- Example 3: With marks (changes based on mode) -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile">R</div>
              <div class="example-tile">U</div>
              <div class="example-tile">D</div>
              <div class="example-tile">E</div>
              <div class="example-score example-score-partial">2</div>
            </div>
            <p class="example-description" id="marks-description">Colored borders show which letters are correct or incorrect.</p>
          </div>

          <!-- Example 4: Green - Win! -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile example-green">D</div>
              <div class="example-tile example-green">R</div>
              <div class="example-tile example-green">I</div>
              <div class="example-tile example-green">P</div>
              <div class="example-score example-score-win">4</div>
            </div>
            <p class="example-description">Green tiles mean you win!</p>
          </div>
        </div>

        <!-- Start Playing Button -->
        <div style="text-align: center; margin-top: 24px;">
          <button id="start-playing-btn" class="btn btn-primary" style="min-width: 160px;">Start Playing!</button>
        </div>
      </div>
    </div>
  </div>

  <!-- End Game Modal -->
  <div id="end-game-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="end-game-title">You Won!</h2>
        <button class="modal-close" data-modal="end-game-modal">&times;</button>
      </div>
      <div class="modal-body">
        <p id="end-game-message">Congratulations! You guessed the word in <span id="attempts-count">0</span> attempts.</p>
        <p>The word was: <strong id="answer-word"></strong></p>
        <button id="share-btn" class="btn">Share Results</button>
        <button id="play-again-btn" class="btn" style="display: inline-block; margin-top: 12px;">Play Again</button>
      </div>
    </div>
  </div>

  <!-- Score Explanation Modal -->
  <div id="score-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>How Scoring Works</h2>
        <button class="modal-close" data-modal="score-modal">&times;</button>
      </div>
      <div class="modal-body">
        <p style="margin-bottom: 16px;">The score shows how many letters from your guess appear in the target word.</p>

        <div class="rules-section">
          <!-- Example 1: Partial match -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile">W</div>
              <div class="example-tile">O</div>
              <div class="example-tile">R</div>
              <div class="example-tile">D</div>
              <div class="example-score example-score-partial">2</div>
            </div>
            <p class="example-description">A score of 2 means two letters from your guess are in the target word.</p>
          </div>

          <!-- Example 2: Red - No match -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile example-red">W</div>
              <div class="example-tile example-red">O</div>
              <div class="example-tile example-red">L</div>
              <div class="example-tile example-red">F</div>
              <div class="example-score example-score-zero">0</div>
            </div>
            <p class="example-description">Red tiles and 0 score mean none of these letters are in the target word.</p>
          </div>

          <!-- Example 3: Green - Win! -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile example-green">D</div>
              <div class="example-tile example-green">R</div>
              <div class="example-tile example-green">I</div>
              <div class="example-tile example-green">P</div>
              <div class="example-score example-score-win">4</div>
            </div>
            <p class="example-description">Green tiles and a score of 4 mean you win!</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Game Scripts -->
  <script src="words.js"></script>
  <script src="game.js"></script>
  <script src="ui.js"></script>
  <script src="app.js"></script>

  <script>
    // Service Worker Registration
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/hardle/sw.js', {
        scope: '/hardle/',
        updateViaCache: 'none'
      });
    }
  </script>
</body>
</html>
