<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#333">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Hardle">
  <title>Hardle - Daily Word Game</title>
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icon-192.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Navbar -->
  <nav class="game-navbar">
    <a href="/" class="home-btn"></a>
    <span class="nav-title">Hardle</span>
    <div class="nav-actions">
      <button id="info-btn" class="text-icon-btn" aria-label="How to play">
        <span class="text-icon">?</span>
      </button>
      <button id="quick-settings-btn" class="text-icon-btn icon-btn-plus" aria-label="Quick settings">
      </button>
    </div>
  </nav>

  <!-- Main Game Container -->
  <div class="game-container">
    <!-- Game Board: 8 rows × 4 columns + score column -->
    <div class="board">
      <!-- Row 1 -->
      <div class="row" data-row="0">
        <div class="tile" data-row="0" data-col="0"></div>
        <div class="tile" data-row="0" data-col="1"></div>
        <div class="tile" data-row="0" data-col="2"></div>
        <div class="tile" data-row="0" data-col="3"></div>
        <div class="score-box" data-row="0"></div>
      </div>
      <!-- Row 2 -->
      <div class="row" data-row="1">
        <div class="tile" data-row="1" data-col="0"></div>
        <div class="tile" data-row="1" data-col="1"></div>
        <div class="tile" data-row="1" data-col="2"></div>
        <div class="tile" data-row="1" data-col="3"></div>
        <div class="score-box" data-row="1"></div>
      </div>
      <!-- Row 3 -->
      <div class="row" data-row="2">
        <div class="tile" data-row="2" data-col="0"></div>
        <div class="tile" data-row="2" data-col="1"></div>
        <div class="tile" data-row="2" data-col="2"></div>
        <div class="tile" data-row="2" data-col="3"></div>
        <div class="score-box" data-row="2"></div>
      </div>
      <!-- Row 4 -->
      <div class="row" data-row="3">
        <div class="tile" data-row="3" data-col="0"></div>
        <div class="tile" data-row="3" data-col="1"></div>
        <div class="tile" data-row="3" data-col="2"></div>
        <div class="tile" data-row="3" data-col="3"></div>
        <div class="score-box" data-row="3"></div>
      </div>
      <!-- Row 5 -->
      <div class="row" data-row="4">
        <div class="tile" data-row="4" data-col="0"></div>
        <div class="tile" data-row="4" data-col="1"></div>
        <div class="tile" data-row="4" data-col="2"></div>
        <div class="tile" data-row="4" data-col="3"></div>
        <div class="score-box" data-row="4"></div>
      </div>
      <!-- Row 6 -->
      <div class="row" data-row="5">
        <div class="tile" data-row="5" data-col="0"></div>
        <div class="tile" data-row="5" data-col="1"></div>
        <div class="tile" data-row="5" data-col="2"></div>
        <div class="tile" data-row="5" data-col="3"></div>
        <div class="score-box" data-row="5"></div>
      </div>
      <!-- Row 7 -->
      <div class="row" data-row="6">
        <div class="tile" data-row="6" data-col="0"></div>
        <div class="tile" data-row="6" data-col="1"></div>
        <div class="tile" data-row="6" data-col="2"></div>
        <div class="tile" data-row="6" data-col="3"></div>
        <div class="score-box" data-row="6"></div>
      </div>
      <!-- Row 8 -->
      <div class="row" data-row="7">
        <div class="tile" data-row="7" data-col="0"></div>
        <div class="tile" data-row="7" data-col="1"></div>
        <div class="tile" data-row="7" data-col="2"></div>
        <div class="tile" data-row="7" data-col="3"></div>
        <div class="score-box" data-row="7"></div>
      </div>
    </div>

    <!-- QWERTY Keyboard -->
    <div class="keyboard">
      <div class="keyboard-row">
        <button class="key" data-key="Q">Q</button>
        <button class="key" data-key="W">W</button>
        <button class="key" data-key="E">E</button>
        <button class="key" data-key="R">R</button>
        <button class="key" data-key="T">T</button>
        <button class="key" data-key="Y">Y</button>
        <button class="key" data-key="U">U</button>
        <button class="key" data-key="I">I</button>
        <button class="key" data-key="O">O</button>
        <button class="key" data-key="P">P</button>
      </div>
      <div class="keyboard-row">
        <button class="key" data-key="A">A</button>
        <button class="key" data-key="S">S</button>
        <button class="key" data-key="D">D</button>
        <button class="key" data-key="F">F</button>
        <button class="key" data-key="G">G</button>
        <button class="key" data-key="H">H</button>
        <button class="key" data-key="J">J</button>
        <button class="key" data-key="K">K</button>
        <button class="key" data-key="L">L</button>
      </div>
      <div class="keyboard-row">
        <button class="key key-enter" data-key="Enter">✓</button>
        <button class="key" data-key="Z">Z</button>
        <button class="key" data-key="X">X</button>
        <button class="key" data-key="C">C</button>
        <button class="key" data-key="V">V</button>
        <button class="key" data-key="B">B</button>
        <button class="key" data-key="N">N</button>
        <button class="key" data-key="M">M</button>
        <button class="key key-backspace" data-key="Backspace">✕</button>
      </div>
    </div>
  </div>

  <!-- Info Modal -->
  <div id="info-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>How to Play</h2>
        <button class="modal-close" data-modal="info-modal">&times;</button>
      </div>
      <div class="modal-body">

        <!-- Brief Description -->
        <p style="margin-bottom: 16px;">Guess the 4-letter word in 8 attempts or less.</p>

        <!-- Quick Rules -->
        <ul style="margin-bottom: 20px; padding-left: 20px;">
          <li style="margin-bottom: 8px;">Each guess must be a valid 4-letter word.</li>
          <li style="margin-bottom: 8px;">The score shows how many letters from your guess are in the target word.</li>
          <li style="margin-bottom: 8px;">A new word is available every day.</li>
        </ul>

        <!-- Examples Section -->
        <h3 style="margin-bottom: 16px;">Examples</h3>

        <div class="rules-section">
          <!-- Example 1: Partial match -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile">W</div>
              <div class="example-tile">O</div>
              <div class="example-tile">R</div>
              <div class="example-tile">D</div>
              <div class="example-score example-score-partial">2</div>
            </div>
            <p class="example-description">A score of 2 means two letters from your guess are in the target word.</p>
          </div>

          <!-- Example 2: Red - No match -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile example-red">W</div>
              <div class="example-tile example-red">O</div>
              <div class="example-tile example-red">L</div>
              <div class="example-tile example-red">F</div>
              <div class="example-score example-score-zero">0</div>
            </div>
            <p class="example-description">Red tiles and 0 score mean none of these letters are in the target word.</p>
          </div>

          <!-- Example 3: With marks (changes based on mode) -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile">R</div>
              <div class="example-tile">U</div>
              <div class="example-tile">D</div>
              <div class="example-tile">E</div>
              <div class="example-score example-score-partial">2</div>
            </div>
            <p class="example-description" id="marks-description">Colored borders show which letters are correct or incorrect.</p>
          </div>

          <!-- Example 4: Green - Win! -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile example-green">D</div>
              <div class="example-tile example-green">R</div>
              <div class="example-tile example-green">I</div>
              <div class="example-tile example-green">P</div>
              <div class="example-score example-score-win">4</div>
            </div>
            <p class="example-description">Green tiles mean you win!</p>
          </div>
        </div>

        <!-- Divider -->
        <hr style="margin: 24px 0; border: none; border-top: 1px solid var(--border-color);">

        <!-- Game Variant Selection -->
        <p style="text-align: center; margin-bottom: 12px; font-size: 0.9rem; color: var(--text-secondary);">Switch Game</p>
        <div class="mode-buttons" style="margin-bottom: 8px;">
          <a href="index.html#info" class="mode-btn active" data-variant="hardle" style="text-decoration: none;">
            <span class="mode-label">Hardle</span>
          </a>
          <a href="randle.html#info" class="mode-btn" data-variant="randle" style="text-decoration: none;">
            <span class="mode-label">Randle</span>
          </a>
        </div>
        <div style="display: flex; gap: 12px; margin-bottom: 16px;">
          <span style="flex: 1; font-size: 0.85rem; color: var(--text-secondary); text-align: center;">One daily puzzle</span>
          <span style="flex: 1; font-size: 0.85rem; color: var(--text-secondary); text-align: center;">Unlimited rounds</span>
        </div>

        <!-- Mode Selection -->
        <p style="text-align: center; margin-bottom: 8px; font-size: 0.9rem; color: var(--text-secondary);">Difficulty</p>
        <div class="mode-buttons" style="margin-bottom: 20px;">
          <button id="select-hard-mode" class="mode-btn active" data-mode="hard">
            <span class="mode-label">Hard Mode</span>
          </button>
          <button id="select-easy-mode" class="mode-btn" data-mode="easy">
            <span class="mode-label">Easy Mode</span>
          </button>
        </div>

        <!-- Start Playing Button -->
        <div style="text-align: center;">
          <button id="start-playing-btn" class="btn btn-primary" style="min-width: 160px;">Start Playing!</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Settings Modal -->
  <div id="quick-settings-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Settings</h2>
        <button class="modal-close" data-modal="quick-settings-modal">&times;</button>
      </div>
      <div class="modal-body">
        <!-- Game Variant Selection -->
        <p style="text-align: center; margin-bottom: 12px; font-size: 0.9rem; color: var(--text-secondary);">Switch Game</p>
        <div class="mode-buttons" style="margin-bottom: 8px;">
          <a href="index.html" class="mode-btn active" data-variant="hardle" style="text-decoration: none;">
            <span class="mode-label">Hardle</span>
          </a>
          <a href="randle.html" class="mode-btn" data-variant="randle" style="text-decoration: none;">
            <span class="mode-label">Randle</span>
          </a>
        </div>
        <div style="display: flex; gap: 12px; margin-bottom: 16px;">
          <span style="flex: 1; font-size: 0.85rem; color: var(--text-secondary); text-align: center;">One daily puzzle</span>
          <span style="flex: 1; font-size: 0.85rem; color: var(--text-secondary); text-align: center;">Unlimited rounds</span>
        </div>

        <!-- Mode Selection -->
        <p style="text-align: center; margin-bottom: 8px; font-size: 0.9rem; color: var(--text-secondary);">Difficulty</p>
        <div class="mode-buttons" style="margin-bottom: 20px;">
          <button id="quick-select-hard-mode" class="mode-btn active" data-mode="hard">
            <span class="mode-label">Hard Mode</span>
          </button>
          <button id="quick-select-easy-mode" class="mode-btn" data-mode="easy">
            <span class="mode-label">Easy Mode</span>
          </button>
        </div>

        <!-- Close Button -->
        <div style="text-align: center;">
          <button class="btn btn-primary close-quick-settings" style="min-width: 160px;">Done</button>
        </div>
      </div>
    </div>
  </div>

  <!-- End Game Modal -->
  <div id="end-game-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="end-game-title">You Won!</h2>
        <button class="modal-close" data-modal="end-game-modal">&times;</button>
      </div>
      <div class="modal-body">
        <p id="end-game-message">Congratulations! You guessed the word in <span id="attempts-count">0</span> attempts.</p>
        <p>The word was: <strong id="answer-word"></strong></p>
        <button id="share-btn" class="btn">Share Results</button>
        <a href="randle.html" class="btn" style="display: inline-block; margin-top: 12px;">Try Randle</a>
      </div>
    </div>
  </div>

  <!-- Score Explanation Modal -->
  <div id="score-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>How Scoring Works</h2>
        <button class="modal-close" data-modal="score-modal">&times;</button>
      </div>
      <div class="modal-body">
        <p style="margin-bottom: 16px;">The score shows how many letters from your guess appear in the target word.</p>

        <div class="rules-section">
          <!-- Example 1: Partial match -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile">W</div>
              <div class="example-tile">O</div>
              <div class="example-tile">R</div>
              <div class="example-tile">D</div>
              <div class="example-score example-score-partial">2</div>
            </div>
            <p class="example-description">A score of 2 means two letters from your guess are in the target word.</p>
          </div>

          <!-- Example 2: Red - No match -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile example-red">W</div>
              <div class="example-tile example-red">O</div>
              <div class="example-tile example-red">L</div>
              <div class="example-tile example-red">F</div>
              <div class="example-score example-score-zero">0</div>
            </div>
            <p class="example-description">Red tiles and 0 score mean none of these letters are in the target word.</p>
          </div>

          <!-- Example 3: Green - Win! -->
          <div class="example">
            <div class="example-row">
              <div class="example-tile example-green">D</div>
              <div class="example-tile example-green">R</div>
              <div class="example-tile example-green">I</div>
              <div class="example-tile example-green">P</div>
              <div class="example-score example-score-win">4</div>
            </div>
            <p class="example-description">Green tiles and a score of 4 mean you win!</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Game Scripts -->
  <script src="words.js"></script>
  <script src="game.js"></script>
  <script src="ui.js"></script>
  <script src="app.js"></script>

  <script>
    // Service Worker Registration
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/hardle/sw.js', {
        scope: '/hardle/',
        updateViaCache: 'none'
      });
    }
  </script>
</body>
</html>
